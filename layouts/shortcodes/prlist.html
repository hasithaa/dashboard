{{ $prdata:= index .Site.Data (.Get 0) }}
{{ $filters:= $prdata.filters }}
{{ $prs:= $prdata.prs }}
{{ $kinds := slice }}
{{ range $filters }}
    {{ $kinds = $kinds | append .kind }}
{{ end }}
{{ $kinds = uniq $kinds }}
Generated at {{ dateFormat "Jan 2, 2006 15:04 MST" now }}
<div class="w3-container w3-left-align toLeft">
    <div class="w3-container">
        <details>
            <summary>Filters</summary>
            <div class="w3-container w3-border">
                {{ range $val:= $kinds }}
                <div>
                {{ $val }} : {{ range where $filters "kind" $val}}
                    <input class="btn btn-primarybtn-sm ic-{{ (substr (  .cls  ) 4)}}" id="btn-{{.cls}}" type="button"
                        value="{{ .label }} ({{ .count }})">
                    {{ end }}
                </div>               
                {{ end }}
                <script>
                    $(document).ready(function () {
                        {{ range $filters }} $("#btn-{{.cls}}").click(function () { $(".pr").hide(); $(".{{.cls}}").show(); }); {{ end }}
                    });
                </script>
            </div>
        </details>
        {{ range $prs }}
        {{ partial "pr"  (dict "context" . )  }}
        {{ end }}
    </div>
</div>
